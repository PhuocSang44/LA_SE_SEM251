spring.application.name=HCMUT-TSS-Backend
server.port=10001

# Forward headers support for proxy (Nginx)
server.forward-headers-strategy=NATIVE
server.tomcat.remoteip.remote-ip-header=x-forwarded-for
server.tomcat.remoteip.protocol-header=x-forwarded-proto

##############################################
# Production Database Configuration
spring.datasource.url=jdbc:mysql://db:3306/hcmut-tss-mysql-db-main?createDatabaseIfNotExist=true&allowPublicKeyRetrieval=true
spring.datasource.username=root
spring.datasource.password=10diemSEHK251@
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=validate 
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=true

##############################################
# Production Redis Configuration
spring.data.redis.host=redis
spring.data.redis.port=6379

##############################################
# OAuth2 Client Configuration for Production
spring.security.oauth2.client.registration.sso-server.client-id=tss-backend
spring.security.oauth2.client.registration.sso-server.client-secret=secret
spring.security.oauth2.client.registration.sso-server.scope=openid,profile,email
spring.security.oauth2.client.registration.sso-server.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.sso-server.redirect-uri=https://10diemse251.online/login/oauth2/code/sso-server
spring.security.oauth2.client.provider.sso-server.user-name-attribute=email

# SSO Server Issuer - using domain with HTTPS
spring.security.oauth2.client.provider.sso-server.issuer-uri=https://10diemse251.online

##############################################
# Production Service URLs - using ORIGINAL PORTS
frontend.url=https://la-se-sem251.vercel.app
datacore.url=http://datacore-mimic:10005
app.internal-api-key=YourVeryStrongAndSecretKeyHere12345
library.base-url=http://library-mimic:10006

# Material file storage directory
material.file-storage.dir=uploads/materials

# File upload settings
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

##############################################
# Session Configuration
server.servlet.session.cookie.name=SESSION
server.servlet.session.tracking-modes=cookie

server.error.include-message=always

##############################################
# Production Logging - Less verbose
logging.level.root=INFO
logging.level.org.springframework.security=INFO
logging.level.org.springframework.security.oauth2=INFO
logging.level.org.minhtrinh.hcmuttssbackend=INFO

spring.output.ansi.enabled=always
