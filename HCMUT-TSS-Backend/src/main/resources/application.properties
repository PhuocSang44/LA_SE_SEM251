spring.application.name=HCMUT-TSS-Backend
server.port=10001
spring.docker.compose.lifecycle-management = start-and-stop

##############################################

spring.datasource.url=jdbc:mysql://localhost:10000/hcmut-tss-mysql-db-main
spring.datasource.username=root
spring.datasource.password=10diemSEHK251@

# The JDBC driver for MySQL
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

#spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# This is a development setting. "update" will automatically
# add new tables/columns based on your @Entity classes when the app starts.
spring.jpa.hibernate.ddl-auto=validate 
spring.jpa.show-sql=true

spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=true

##############################################

# -- Redis Connection --
spring.data.redis.host=localhost
spring.data.redis.port=10002

# -- Spring Session --
# Tell Spring Session to use Redis for storing sessions
#spring.session.store-type=redis

##############################################

# 2. Define the registration for your SSO server
# We'll call this registration "sso-server"
spring.security.oauth2.client.registration.sso-server.client-id=tss-backend
spring.security.oauth2.client.registration.sso-server.client-secret=secret
spring.security.oauth2.client.registration.sso-server.scope=openid,profile,email
spring.security.oauth2.client.registration.sso-server.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.sso-server.redirect-uri=http://localhost:10001/login/oauth2/code/sso-server
spring.security.oauth2.client.provider.sso-server.user-name-attribute=email

# 3. Tell the client where to find your SSO server
# This MUST match the "issuer" you set on the server
spring.security.oauth2.client.provider.sso-server.issuer-uri=http://localhost:10003

##############################################

# Frontend Configuration
frontend.url=http://localhost:10004
# Datacore Configuration
datacore.url=http://localhost:10005
app.internal-api-key=YourVeryStrongAndSecretKeyHere12345
library.base-url=http://localhost:10006

# Material file storage directory
material.file-storage.dir=uploads/materials

# File upload settings - allow up to 50MB files
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

##############################################

# Tell the embedded Tomcat server to use the *same cookie name*
server.servlet.session.cookie.name=SESSION
server.servlet.session.tracking-modes=cookie


server.error.include-message=always

##############################################
# Log activities
# Set the default log level for all classes (e.g., INFO, DEBUG, TRACE)
logging.level.root=INFO

# Set a more detailed log level for Spring Security
# Use DEBUG to see a lot of security-related decisions
logging.level.org.springframework.security=DEBUG

# For even more details specifically about OAuth2, use TRACE
# This will be VERY verbose and show token details
logging.level.org.springframework.security.oauth2=TRACE

# Set the log level for your own application code
logging.level.org.minhtrinh.hcmutssomimic=DEBUG

# Force terminal luôn hiển thị màu sắc ANSI, hỗ trợ DEBUG log dễ đọc hơn
spring.output.ansi.enabled=always